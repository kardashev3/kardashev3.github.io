---
# ì´ ë¶€ë¶„(ê°€ë¡œì¤„ ì„¸ ê°œ)ì´ ìˆì–´ì•¼ ì½”ë“œê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.
---
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kardashev3</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
    <style>
        body { 
            font-family: "Pretendard Variable", sans-serif;
            line-height: 1.8; 
            color: #333; 
            max-width: 700px; 
            margin: 0 auto; 
            padding: 60px 25px; 
            word-break: keep-all;
        }
        header { margin-bottom: 60px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
        header h1 { font-size: 28px; font-weight: 700; margin: 0; letter-spacing: -0.03em; }
        
        /* ê¸€ ì „ì²´ê°€ í¼ì³ì§€ëŠ” ìŠ¤íƒ€ì¼ */
        article { margin-bottom: 120px; }
        .post-date { color: #999; font-size: 14px; margin-bottom: 8px; }
        article h2 { font-size: 24px; font-weight: 700; margin-top: 0; margin-bottom: 20px; letter-spacing: -0.02em; }
        article h2 a { text-decoration: none; color: #0044cc; }
        .post-content { 
            font-size: 17px; 
            font-weight: 400; 
            margin-bottom: 30px;
            text-align: justify;
            text-justify: inter-word;
            word-break: break-all;
        }
        
        /* ì´ë¯¸ì§€ í¬ê¸° ì œí•œ (ê¸€ ë‚´ìš© ì¤‘ ì´ë¯¸ì§€ê°€ ìˆì„ ê²½ìš° íŠ€ì–´ ë‚˜ê°€ëŠ” ê²ƒ ë°©ì§€) */
        .post-content img { max-width: 100%; height: auto; }

        /* ê³µìœ  ë²„íŠ¼ ì„¹ì…˜ */
        .post-footer { display: flex; align-items: center; gap: 15px; padding-top: 15px; border-top: 1px solid #f4f4f4; }
        .btn-x { 
            background-color: #000; color: #fff; text-decoration: none; 
            padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 500;
            display: inline-flex; align-items: center; gap: 5px;
        }
        .btn-x:hover { opacity: 0.8; }

        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination { display: flex; justify-content: center; gap: 8px; margin-top: 50px; }
        .pagination a, .pagination span { 
            padding: 8px 14px; border: 1px solid #eee; text-decoration: none; color: #666; font-size: 14px; border-radius: 4px;
        }
        .pagination .active { font-weight: 700; border: 1px solid #333; color: #000; }
    </style>
</head>
<body>

    <header>
        <h1>Kardashev3</h1>
    </header>

    <main>
        {% for post in site.posts %}
        <article>
            <div class="post-date">{{ post.date | date: "%Y.%m.%d" }}</div>
            <h2><a href="{{ post.url }}">{{ post.title }}</a></h2>
            <div class="post-content">
                {{ post.content }}
            </div>
            <div class="post-footer">
                <a href="https://twitter.com/intent/tweet?text={{ post.title }}&url={{ site.url }}{{ post.url }}" target="_blank" class="btn-x">
                    ğ• Post
                </a>
                <span style="color: #ccc; font-size: 13px;">Posted on {{ post.date | date: "%B %d, %Y" }}</span>
            </div>
        </article>
        {% endfor %}
    </main>

    <nav class="pagination">
        <span class="active">1</span>
    </nav>

    <footer style="margin-top: 100px; text-align: center; color: #bbb; font-size: 13px;">
        &copy; 2026 kardashev3.
    </footer>

# ì—ë””í„°
    
<div id="secret-editor" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.98); z-index:9999; padding:40px 20px; box-sizing:border-box; overflow-y:auto;">
    <div style="max-width:700px; margin:0 auto;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
            <h2 style="margin:0;">New Record</h2>
            <button onclick="closeEditor()" style="background:none; border:none; font-size:24px; cursor:pointer;">âœ•</button>
        </div>

        <details style="margin-bottom:20px; color:#666; font-size:14px;">
            <summary style="cursor:pointer;">Serverless Settings (Click to expand)</summary>
            <input type="password" id="gh-token" placeholder="GitHub Access Token (ghp_...)" style="width:100%; padding:10px; margin-top:10px; border:1px solid #ddd; border-radius:4px;">
            <input type="text" id="gh-repo" value="kardashev3/kardashev3.github.io" style="width:100%; padding:10px; margin-top:5px; border:1px solid #ddd; border-radius:4px;">
        </details>

        <input type="text" id="post-title" placeholder="Title" style="width:100%; padding:15px; font-size:24px; font-weight:700; border:none; border-bottom:2px solid #333; outline:none; margin-bottom:10px; background:transparent;">
        
        <input type="text" id="post-slug" placeholder="URL Slug (ì˜ˆ: welcome-to-my-blog)" style="width: 100%; padding: 10px; font-size: 14px; border: 1px solid #eee; border-radius: 4px; margin-bottom: 20px; outline:none; color: #666;">
        
        <textarea id="post-content" placeholder="Write your thoughts in Markdown..." style="width:100%; height:450px; padding:15px; font-family:'Pretendard Variable', sans-serif; font-size:16px; line-height:1.6; border:1px solid #eee; border-radius:8px; resize:none; outline:none;"></textarea>

        <div style="text-align:right; margin-top:20px;">
            <button onclick="uploadPost()" id="upload-btn" style="background:#000; color:#fff; border:none; padding:12px 30px; border-radius:30px; font-size:16px; font-weight:bold; cursor:pointer;">Publish Now</button>
        </div>
    </div>
</div>

<script>
    // ë‹¨ì¶•í‚¤ ë° ì—ë””í„° ì œì–´ ë¡œì§ (ì´ì „ê³¼ ë™ì¼)
    document.addEventListener('keydown', function(e) {
        if (e.shiftKey && (e.key === 'W' || e.key === 'w')) { openEditor(); }
    });

    function openEditor() {
        document.getElementById('secret-editor').style.display = 'block';
        const savedToken = localStorage.getItem('gh_token');
        if(savedToken) document.getElementById('gh-token').value = savedToken;
    }

    function closeEditor() { document.getElementById('secret-editor').style.display = 'none'; }

    function utf8_to_b64(str) { return window.btoa(unescape(encodeURIComponent(str))); }

    async function uploadPost() {
        const token = document.getElementById('gh-token').value.trim();
        const repo = document.getElementById('gh-repo').value.trim();
        const title = document.getElementById('post-title').value.trim();
        const slugInput = document.getElementById('post-slug').value.trim();
        const content = document.getElementById('post-content').value;
        const btn = document.getElementById('upload-btn');

        if (!token || !title || !content) {
            alert('Titleê³¼ ContentëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.');
            return;
        }

        btn.innerText = "Publishing...";
        btn.disabled = true;
        localStorage.setItem('gh_token', token);

        const now = new Date();
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        
        // ìŠ¬ëŸ¬ê·¸ê°€ ì—†ìœ¼ë©´ ì œëª© ê¸°ë°˜ ìƒì„±
        const finalSlug = slugInput || title.replace(/\s+/g, '-').replace(/[^\w\-\uAC00-\uD7A3]/g, '').toLowerCase();
        
        // ì‚¬ìš©ìê°€ ìš”ì²­í•œ URL êµ¬ì¡°: /2026/01/11/slug/
        const customPermalink = `/${year}/${month}/${day}/${finalSlug}/`;
        const path = `_posts/${year}-${month}-${day}-${finalSlug}.md`;

        const finalContent = `---
layout: post
title: "${title}"
date: ${year}-${month}-${day} ${now.toTimeString().split(' ')[0]} +0900
permalink: ${customPermalink}
---

${content}`;

        try {
            const response = await fetch(`https://api.github.com/repos/${repo}/contents/${path}`, {
                method: 'PUT',
                headers: {
                    'Authorization': `token ${token}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: `New post: ${title}`,
                    content: utf8_to_b64(finalContent)
                })
            });

            if (response.ok) {
                alert('âœ… ì—…ë¡œë“œ ì„±ê³µ! ì£¼ì†Œ: ' + customPermalink);
                location.reload();
            } else {
                const err = await response.json();
                alert('âŒ ì‹¤íŒ¨: ' + err.message);
                btn.innerText = "Publish Now";
                btn.disabled = false;
            }
        } catch (error) {
            alert('ì—ëŸ¬ ë°œìƒ: ' + error);
            btn.innerText = "Publish Now";
            btn.disabled = false;
        }
    }
</script>

</body>
</html>
